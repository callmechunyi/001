<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç”µå·¥å€’ç­ç®¡ç†ç³»ç»Ÿï¼ˆä¿®æ­£ç‰ˆï¼‰</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: "Microsoft YaHei", Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }
        
        .container {
            max-width: 100%;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            margin: 0 auto;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #eee;
        }
        
        .header h1 {
            color: #333;
            font-size: 24px;
            margin-bottom: 10px;
        }
        
        .date-info {
            font-size: 16px;
            color: #666;
            background: #f8f9fa;
            padding: 10px;
            border-radius: 10px;
            margin: 15px 0;
        }
        
        .week-info {
            font-size: 16px;
            color: #fff;
            background: #e91e63;
            padding: 10px;
            border-radius: 10px;
            margin: 15px 0;
            text-align: center;
            font-weight: bold;
        }
        
        .time-slots {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
            gap: 10px;
        }
        
        .time-slot {
            flex: 1;
            padding: 10px;
            border-radius: 10px;
            text-align: center;
            color: white;
            font-weight: bold;
        }
        
        .morning-slot {
            background: #4CAF50;
        }
        
        .middle-slot {
            background: #2196F3;
        }
        
        .night-slot {
            background: #FF9800;
        }
        
        .main-display {
            display: flex;
            gap: 20px;
            margin: 20px 0;
        }
        
        .current-shift {
            flex: 1;
            background: linear-gradient(135deg, #4CAF50, #2E7D32);
            color: white;
            border-radius: 15px;
            padding: 20px;
        }
        
        .next-shift {
            flex: 1;
            background: linear-gradient(135deg, #2196F3, #0D47A1);
            color: white;
            border-radius: 15px;
            padding: 20px;
        }
        
        .shift-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .electrician-card {
            display: flex;
            align-items: center;
            gap: 15px;
            margin: 20px 0;
        }
        
        .avatar {
            width: 60px;
            height: 60px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: bold;
        }
        
        .info-details h3 {
            font-size: 22px;
            margin-bottom: 5px;
        }
        
        .team-badge {
            display: inline-block;
            background: rgba(255, 255, 255, 0.3);
            padding: 3px 10px;
            border-radius: 15px;
            font-size: 12px;
            margin-bottom: 5px;
        }
        
        .phone {
            font-size: 18px;
            font-weight: bold;
            margin-top: 5px;
        }
        
        .shift-time {
            font-size: 14px;
            opacity: 0.9;
            margin-top: 5px;
        }
        
        .contact-btn {
            display: block;
            width: 100%;
            background: white;
            color: #4CAF50;
            border: none;
            padding: 12px;
            border-radius: 10px;
            font-size: 16px;
            font-weight: bold;
            margin-top: 20px;
            text-decoration: none;
            text-align: center;
            cursor: pointer;
        }
        
        .next-contact-btn {
            background: white;
            color: #2196F3;
        }
        
        .footer-info {
            text-align: center;
            color: #888;
            font-size: 12px;
            margin-top: 20px;
            padding-top: 15px;
            border-top: 1px solid #eee;
        }
        
        @media (max-width: 768px) {
            .main-display {
                flex-direction: column;
            }
            
            .time-slots {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>âš¡âš¡ ç”µå·¥å€’ç­ç®¡ç†ç³»ç»Ÿï¼ˆä¿®æ­£ç‰ˆï¼‰</h1>
            <div class="date-info" id="dateTime">2026å¹´01æœˆ25æ—¥ æ˜ŸæœŸæ—¥<br><span id="currentTime">10:14:36</span></div>
            <div class="week-info" id="weekInfo">ç¬¬4å‘¨ | å½“å‰ä¸»å¯¼ç­ç»„: ç”²ç­</div>
        </div>
        
        <div class="time-slots">
            <div class="time-slot morning-slot">æ—©ç­ (8:00-16:00)</div>
            <div class="time-slot middle-slot">ä¸­ç­ (16:00-24:00)</div>
            <div class="time-slot night-slot">å¤œç­ (0:00-8:00)</div>
        </div>
        
        <div class="main-display">
            <!-- å½“å‰ç­æ¬¡ -->
            <div class="current-shift">
                <div class="shift-title">
                    <div style="background: white; color: #4CAF50; width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center;">æ—©</div>
                    æ—©ç­ å€¼ç­ç”µå·¥
                </div>
                
                <div class="electrician-card">
                    <div class="avatar" id="currentAvatar">æœ±</div>
                    <div class="info-details">
                        <h3 id="currentName">æœ±æ£®å‘</h3>
                        <div class="team-badge" id="currentTeam">ç”²ç­</div>
                        <div class="phone" id="currentPhone">137-3724-2404</div>
                        <div class="shift-time">å€¼ç­æ—¶é—´: 8:00-16:00</div>
                    </div>
                </div>
                
                <a href="tel:13737242404" class="contact-btn" id="callBtn">
                    ğŸ“ğŸ“ ç«‹å³è”ç³» æœ±æ£®å‘ | (137****2404)
                </a>
            </div>
            
            <!-- ä¸‹ä¸€ç­ -->
            <div class="next-shift">
                <div class="shift-title">
                    <div style="background: white; color: #2196F3; width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center;">ä¸­</div>
                    ä¸‹ä¸€ç­: ä¸­ç­
                </div>
                
                <div class="electrician-card">
                    <div class="avatar" id="nextAvatar">è¿</div>
                    <div class="info-details">
                        <h3 id="nextName">è¿äºŒå®</h3>
                        <div class="team-badge" id="nextTeam">ä¹™ç­</div>
                        <div class="phone" id="nextPhone">186-3366-8513</div>
                        <div class="shift-time">æ¥ç­æ—¶é—´: 16:00å¼€å§‹</div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="footer-info">
            â°â°â° ç³»ç»Ÿå®æ—¶æ›´æ–° | æœ€åæ›´æ–°: <span id="lastUpdate">10:14:36</span> | ä¸‹æ¬¡è½®æ¢: <span id="nextRotation">2026å¹´2æœˆ2æ—¥ (å‘¨ä¸€)</span>
        </div>
    </div>

    <script>
        // ç”µå·¥ä¿¡æ¯é…ç½® - æŒ‰ç…§ç”²ç­ã€ä¹™ç­ã€ä¸™ç­é¡ºåºæ’åˆ—
        const electricians = [
            { team: "ç”²ç­", name: "æœ±æ£®å‘", phone: "13737242404", avatar: "æœ±" },
            { team: "ä¹™ç­", name: "è¿äºŒå®", phone: "18633668513", avatar: "è¿" },
            { team: "ä¸™ç­", name: "å¼ æœ‰å·", phone: "15987296857", avatar: "å¼ " }
        ];

        // ç­æ¬¡æ—¶é—´é…ç½®
        const shiftTimes = {
            morning: { name: "æ—©ç­", start: 8, end: 16, color: "#4CAF50" },
            middle: { name: "ä¸­ç­", start: 16, end: 24, color: "#2196F3" },
            night: { name: "å¤œç­", start: 0, end: 8, color: "#FF9800" }
        };

        // æ ¼å¼åŒ–ç”µè¯
        function formatPhone(phone) {
            if (phone.length === 11) {
                return phone.replace(/(\d{3})(\d{4})(\d{4})/, '$1-$2-$3');
            }
            return phone;
        }

        // è·å–éšè—ç”µè¯å·ç 
        function getHiddenPhone(phone) {
            if (phone.length === 11) {
                return phone.substring(0, 3) + '****' + phone.substring(7);
            }
            return phone;
        }

        // è·å–å½“å‰å‘¨æ•°ï¼ˆISOå‘¨æ•°ï¼‰
        function getWeekNumber(date) {
            const d = new Date(date);
            d.setHours(0, 0, 0, 0);
            d.setDate(d.getDate() + 4 - (d.getDay() || 7));
            const yearStart = new Date(d.getFullYear(), 0, 1);
            const weekNo = Math.ceil(((d - yearStart) / 86400000 + 1) / 7);
            return weekNo;
        }

        // æ ¹æ®æ—¥æœŸç¡®å®šå½“å‰ä¸»å¯¼ç­ç»„
        function getCurrentRotation(now) {
            // åŸºå‡†æ—¥æœŸï¼š2026å¹´1æœˆ25æ—¥ ç¬¬4å‘¨ ä¸»å¯¼ç­ç»„ä¸ºç”²ç­
            const baseDate = new Date('2026-01-25');
            const baseWeek = 4; // ç¬¬4å‘¨
            const baseRotation = 0; // ç”²ç­åœ¨æ•°ç»„ç´¢å¼•0
            
            // è®¡ç®—å½“å‰å‘¨æ•°
            const currentWeek = getWeekNumber(now);
            
            // è®¡ç®—å‘¨æ•°å·®
            const weekDiff = currentWeek - baseWeek;
            
            // æ¯å‘¨è½®æ¢ä¸€æ¬¡ï¼Œè¿”å›å½“å‰ä¸»å¯¼ç­ç»„çš„ç´¢å¼•
            return (baseRotation + weekDiff) % 3;
        }

        // æ ¹æ®ä¸»å¯¼ç­ç»„å’Œå½“å‰æ—¶é—´ç¡®å®šç­æ¬¡åˆ†é…
        function getCurrentShiftInfo(rotationIndex, currentHour) {
            // ä¸»å¯¼ç­ç»„å¯¹åº”æ—©ç­
            // ä¸‹ä¸€ä¸ªç­ç»„å¯¹åº”ä¸­ç­
            // ç¬¬ä¸‰ä¸ªç­ç»„å¯¹åº”å¤œç­
            
            if (currentHour >= 8 && currentHour < 16) {
                // å½“å‰æ˜¯æ—©ç­ (8:00-16:00)
                return {
                    currentShift: "morning",
                    currentIndex: rotationIndex, // ä¸»å¯¼ç­ç»„ä¸Šæ—©ç­
                    nextShift: "middle",
                    nextIndex: (rotationIndex + 1) % 3 // ä¸‹ä¸€ä¸ªç­ç»„ä¸Šä¸­ç­
                };
            } else if (currentHour >= 16 && currentHour < 24) {
                // å½“å‰æ˜¯ä¸­ç­ (16:00-24:00)
                return {
                    currentShift: "middle",
                    currentIndex: (rotationIndex + 1) % 3, // ä¸‹ä¸€ä¸ªç­ç»„ä¸Šä¸­ç­
                    nextShift: "night",
                    nextIndex: (rotationIndex + 2) % 3 // ç¬¬ä¸‰ä¸ªç­ç»„ä¸Šå¤œç­
                };
            } else {
                // å½“å‰æ˜¯å¤œç­ (0:00-8:00)
                return {
                    currentShift: "night",
                    currentIndex: (rotationIndex + 2) % 3, // ç¬¬ä¸‰ä¸ªç­ç»„ä¸Šå¤œç­
                    nextShift: "morning",
                    nextIndex: rotationIndex // ä¸»å¯¼ç­ç»„ä¸Šæ—©ç­
                };
            }
        }

        // æ›´æ–°æ˜¾ç¤º
        function updateDisplay() {
            const now = new Date();
            const currentHour = now.getHours();
            const weekNumber = getWeekNumber(now);
            const rotationIndex = getCurrentRotation(now);
            
            // è·å–ç­æ¬¡ä¿¡æ¯
            const shiftInfo = getCurrentShiftInfo(rotationIndex, currentHour);
            
            // æ›´æ–°æ—¶é—´æ˜¾ç¤º
            const dateStr = now.toLocaleDateString('zh-CN', { 
                year: 'numeric',
                month: '2-digit',
                day: '2-digit',
                weekday: 'long'
            });
            
            const timeStr = `${now.getHours().toString().padStart(2, '0')}:${now.getMinutes().toString().padStart(2, '0')}:${now.getSeconds().toString().padStart(2, '0')}`;
            
            document.getElementById('dateTime').innerHTML = `
                ${dateStr}<br>
                <span id="currentTime" style="font-size: 20px; font-weight: bold;">${timeStr}</span>
            `;
            
            // æ›´æ–°å‘¨ä¿¡æ¯
            document.getElementById('weekInfo').textContent = `ç¬¬${weekNumber}å‘¨ | å½“å‰ä¸»å¯¼ç­ç»„: ${electricians[rotationIndex].team}`;
            
            // æ›´æ–°å½“å‰ç­æ¬¡ä¿¡æ¯
            const currentElectrician = electricians[shiftInfo.currentIndex];
            const currentShift = shiftTimes[shiftInfo.currentShift];
            
            // æ›´æ–°å½“å‰ç­æ¬¡æ ·å¼
            const currentShiftDiv = document.querySelector('.current-shift');
            const currentShiftTitle = document.querySelector('.current-shift .shift-title');
            
            if (shiftInfo.currentShift === "morning") {
                currentShiftDiv.style.background = "linear-gradient(135deg, #4CAF50, #2E7D32)";
                currentShiftTitle.innerHTML = `
                    <div style="background: white; color: #4CAF50; width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center;">æ—©</div>
                    æ—©ç­ å€¼ç­ç”µå·¥
                `;
            } else if (shiftInfo.currentShift === "middle") {
                currentShiftDiv.style.background = "linear-gradient(135deg, #2196F3, #0D47A1)";
                currentShiftTitle.innerHTML = `
                    <div style="background: white; color: #2196F3; width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center;">ä¸­</div>
                    ä¸­ç­ å€¼ç­ç”µå·¥
                `;
            } else {
                currentShiftDiv.style.background = "linear-gradient(135deg, #FF9800, #EF6C00)";
                currentShiftTitle.innerHTML = `
                    <div style="background: white; color: #FF9800; width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center;">å¤œ</div>
                    å¤œç­ å€¼ç­ç”µå·¥
                `;
            }
            
            document.getElementById('currentName').textContent = currentElectrician.name;
            document.getElementById('currentTeam').textContent = currentElectrician.team;
            document.getElementById('currentPhone').textContent = formatPhone(currentElectrician.phone);
            document.getElementById('currentAvatar').textContent = currentElectrician.avatar;
            
            // æ›´æ–°ä¸‹ä¸€ç­ä¿¡æ¯
            const nextElectrician = electricians[shiftInfo.nextIndex];
            const nextShift = shiftTimes[shiftInfo.nextShift];
            
            // æ›´æ–°ä¸‹ä¸€ç­æ ·å¼
            const nextShiftDiv = document.querySelector('.next-shift');
            const nextShiftTitle = document.querySelector('.next-shift .shift-title');
            
            if (shiftInfo.nextShift === "morning") {
                nextShiftDiv.style.background = "linear-gradient(135deg, #4CAF50, #2E7D32)";
                nextShiftTitle.innerHTML = `
                    <div style="background: white; color: #4CAF50; width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center;">æ—©</div>
                    ä¸‹ä¸€ç­: æ—©ç­
                `;
            } else if (shiftInfo.nextShift === "middle") {
                nextShiftDiv.style.background = "linear-gradient(135deg, #2196F3, #0D47A1)";
                nextShiftTitle.innerHTML = `
                    <div style="background: white; color: #2196F3; width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center;">ä¸­</div>
                    ä¸‹ä¸€ç­: ä¸­ç­
                `;
            } else {
                nextShiftDiv.style.background = "linear-gradient(135deg, #FF9800, #EF6C00)";
                nextShiftTitle.innerHTML = `
                    <div style="background: white; color: #FF9800; width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center;">å¤œ</div>
                    ä¸‹ä¸€ç­: å¤œç­
                `;
            }
            
            document.getElementById('nextName').textContent = nextElectrician.name;
            document.getElementById('nextTeam').textContent = nextElectrician.team;
            document.getElementById('nextPhone').textContent = formatPhone(nextElectrician.phone);
            document.getElementById('nextAvatar').textContent = nextElectrician.avatar;
            
            // æ›´æ–°æ‹¨å·é“¾æ¥
            const callBtn = document.getElementById('callBtn');
            callBtn.href = `tel:${currentElectrician.phone}`;
            callBtn.textContent = `ğŸ“ğŸ“ ç«‹å³è”ç³» ${currentElectrician.name} | (${getHiddenPhone(currentElectrician.phone)})`;
            
            // æ›´æ–°ç­æ¬¡æ—¶é—´æ˜¾ç¤º
            const currentShiftTime = document.querySelector('.current-shift .shift-time');
            const nextShiftTime = document.querySelector('.next-shift .shift-time');
            
            if (shiftInfo.currentShift === "morning") {
                currentShiftTime.textContent = "å€¼ç­æ—¶é—´: 8:00-16:00";
            } else if (shiftInfo.currentShift === "middle") {
                currentShiftTime.textContent = "å€¼ç­æ—¶é—´: 16:00-24:00";
            } else {
                currentShiftTime.textContent = "å€¼ç­æ—¶é—´: 0:00-8:00";
            }
            
            if (shiftInfo.nextShift === "morning") {
                nextShiftTime.textContent = "æ¥ç­æ—¶é—´: 8:00å¼€å§‹";
            } else if (shiftInfo.nextShift === "middle") {
                nextShiftTime.textContent = "æ¥ç­æ—¶é—´: 16:00å¼€å§‹";
            } else {
                nextShiftTime.textContent = "æ¥ç­æ—¶é—´: 0:00å¼€å§‹";
            }
            
            // è®¡ç®—ä¸‹æ¬¡è½®æ¢æ—¶é—´ï¼ˆä¸‹å‘¨ä¸€ï¼‰
            const nextMonday = new Date(now);
            const daysUntilMonday = (1 + 7 - now.getDay()) % 7;
            nextMonday.setDate(now.getDate() + (daysUntilMonday === 0 ? 7 : daysUntilMonday));
            nextMonday.setHours(0, 0, 0, 0);
            
            const nextRotationStr = nextMonday.toLocaleDateString('zh-CN', { 
                year: 'numeric',
                month: '2-digit',
                day: '2-digit',
                weekday: 'long'
            });
            
            // æ›´æ–°æœ€ååˆ·æ–°æ—¶é—´å’Œä¸‹æ¬¡è½®æ¢æ—¶é—´
            document.getElementById('lastUpdate').textContent = timeStr;
            document.getElementById('nextRotation').textContent = nextRotationStr;
        }

        // é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–
        window.addEventListener('DOMContentLoaded', () => {
            updateDisplay();
            // æ¯ç§’æ›´æ–°ä¸€æ¬¡
            setInterval(updateDisplay, 1000);
        });

        // ç¦æ­¢å³é”®å’ŒF12
        document.addEventListener('contextmenu', (e) => e.preventDefault());
        document.onkeydown = (e) => {
            if (e.key === 'F12') return false;
        };
    </script>
</body>
</html>